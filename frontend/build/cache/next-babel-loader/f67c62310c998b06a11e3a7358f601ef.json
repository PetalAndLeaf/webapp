{"ast":null,"code":"var _jsxFileName = \"/Users/jianruan/Developer/webapp/frontend/components/Cart/CartBtn.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { styles } from '../../styles/theme';\nimport FeatherIcon from '../FeatherIcon';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toggleSidebar } from '../../store/cart/action';\nimport { AnimatePresence } from 'framer-motion';\nimport ProductFlyout from '../Product/ProductFlyout';\nconst Root = styled.div.withConfig({\n  displayName: \"CartBtn__Root\",\n  componentId: \"aj7ir-0\"\n})([\"width:40px;height:40px;background:transparent;position:relative;\"]);\nconst BtnWrap = styled.button.withConfig({\n  displayName: \"CartBtn__BtnWrap\",\n  componentId: \"aj7ir-1\"\n})([\"width:40px;height:40px;background:transparent;cursor:pointer;border:none;outline:none;svg{transition:color 0.2s ease-in-out;}&:hover svg{color:\", \";}\"], styles.palette.primary.main);\nconst CartNumber = styled.div.withConfig({\n  displayName: \"CartBtn__CartNumber\",\n  componentId: \"aj7ir-2\"\n})([\"position:absolute;min-width:20px;height:20px;padding-left:4px;padding-right:4px;border-radius:12px;background-color:\", \";color:\", \";font-size:12px;text-align:center;line-height:20px;right:2px;bottom:2px;font-family:Lato,Helvetica,Arial,sans-serif;font-weight:700;\"], styles.palette.primary.main, styles.palette.text.primary);\nexport default function CartBtn() {\n  const dispatch = useDispatch();\n  const items = useSelector(state => state.cart.items);\n  const productFlyout = useSelector(state => state.cart.productFlyout);\n  const {\n    0: totalItems,\n    1: setTotalItems\n  } = useState(0);\n  useEffect(() => {\n    const totalItems = items.reduce((total, item) => item.quantity + total, 0);\n    setTotalItems(totalItems);\n  }, [items]);\n  return __jsx(Root, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, __jsx(BtnWrap, {\n    onClick: () => {\n      dispatch(toggleSidebar());\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, __jsx(FeatherIcon, {\n    icon: \"shoppingbag\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), totalItems !== 0 && __jsx(CartNumber, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, totalItems)), __jsx(AnimatePresence, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, productFlyout !== undefined && __jsx(ProductFlyout, {\n    item: productFlyout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/Users/jianruan/Developer/webapp/frontend/components/Cart/CartBtn.tsx"],"names":["React","useState","useEffect","styled","styles","FeatherIcon","useDispatch","useSelector","toggleSidebar","AnimatePresence","ProductFlyout","Root","div","BtnWrap","button","palette","primary","main","CartNumber","text","CartBtn","dispatch","items","state","cart","productFlyout","totalItems","setTotalItems","reduce","total","item","quantity","undefined"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,MAAT,QAAuB,oBAAvB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,aAAT,QAA8B,yBAA9B;AACA,SAASC,eAAT,QAAgC,eAAhC;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AAEA,MAAMC,IAAI,GAAGR,MAAM,CAACS,GAAV;AAAA;AAAA;AAAA,wEAAV;AAMA,MAAMC,OAAO,GAAGV,MAAM,CAACW,MAAV;AAAA;AAAA;AAAA,8JAWAV,MAAM,CAACW,OAAP,CAAeC,OAAf,CAAuBC,IAXvB,CAAb;AAcA,MAAMC,UAAU,GAAGf,MAAM,CAACS,GAAV;AAAA;AAAA;AAAA,gRAOMR,MAAM,CAACW,OAAP,CAAeC,OAAf,CAAuBC,IAP7B,EAQLb,MAAM,CAACW,OAAP,CAAeI,IAAf,CAAoBH,OARf,CAAhB;AAkBA,eAAe,SAASI,OAAT,GAAmB;AAChC,QAAMC,QAAQ,GAAGf,WAAW,EAA5B;AACA,QAAMgB,KAAK,GAAGf,WAAW,CAAEgB,KAAD,IAAgBA,KAAK,CAACC,IAAN,CAAWF,KAA5B,CAAzB;AACA,QAAMG,aAAa,GAAGlB,WAAW,CAAEgB,KAAD,IAAgBA,KAAK,CAACC,IAAN,CAAWC,aAA5B,CAAjC;AACA,QAAM;AAAA,OAACC,UAAD;AAAA,OAAaC;AAAb,MAA8B1B,QAAQ,CAAC,CAAD,CAA5C;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMwB,UAAU,GAAGJ,KAAK,CAACM,MAAN,CACjB,CAACC,KAAD,EAAgBC,IAAhB,KAA8BA,IAAI,CAACC,QAAL,GAAgBF,KAD7B,EAEjB,CAFiB,CAAnB;AAIAF,IAAAA,aAAa,CAACD,UAAD,CAAb;AACD,GANQ,EAMN,CAACJ,KAAD,CANM,CAAT;AAQA,SACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AACE,IAAA,OAAO,EAAE,MAAM;AACbD,MAAAA,QAAQ,CAACb,aAAa,EAAd,CAAR;AACD,KAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,MAAC,WAAD;AAAa,IAAA,IAAI,EAAC,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAMGkB,UAAU,KAAK,CAAf,IAAoB,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAaA,UAAb,CANvB,CADF,EASE,MAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,aAAa,KAAKO,SAAlB,IAA+B,MAAC,aAAD;AAAe,IAAA,IAAI,EAAEP,aAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADlC,CATF,CADF;AAeD","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { styles } from '../../styles/theme'\nimport FeatherIcon from '../FeatherIcon'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { toggleSidebar } from '../../store/cart/action'\nimport { AnimatePresence } from 'framer-motion'\nimport ProductFlyout from '../Product/ProductFlyout'\n\nconst Root = styled.div`\n  width: 40px;\n  height: 40px;\n  background: transparent;\n  position: relative;\n`\nconst BtnWrap = styled.button`\n  width: 40px;\n  height: 40px;\n  background: transparent;\n  cursor: pointer;\n  border: none;\n  outline: none;\n  svg {\n    transition: color 0.2s ease-in-out;\n  }\n  &:hover svg {\n    color: ${styles.palette.primary.main};\n  }\n`\nconst CartNumber = styled.div`\n  position: absolute;\n  min-width: 20px;\n  height: 20px;\n  padding-left: 4px;\n  padding-right: 4px;\n  border-radius: 12px;\n  background-color: ${styles.palette.primary.main};\n  color: ${styles.palette.text.primary};\n  font-size: 12px;\n  text-align: center;\n  line-height: 20px;\n  right: 2px;\n  bottom: 2px;\n  font-family: Lato, Helvetica, Arial, sans-serif;\n  font-weight: 700;\n`\n\nexport default function CartBtn() {\n  const dispatch = useDispatch()\n  const items = useSelector((state: any) => state.cart.items)\n  const productFlyout = useSelector((state: any) => state.cart.productFlyout)\n  const [totalItems, setTotalItems] = useState(0)\n  useEffect(() => {\n    const totalItems = items.reduce(\n      (total: number, item: any) => item.quantity + total,\n      0\n    )\n    setTotalItems(totalItems)\n  }, [items])\n\n  return (\n    <Root>\n      <BtnWrap\n        onClick={() => {\n          dispatch(toggleSidebar())\n        }}\n      >\n        <FeatherIcon icon='shoppingbag' />\n        {totalItems !== 0 && <CartNumber>{totalItems}</CartNumber>}\n      </BtnWrap>\n      <AnimatePresence>\n        {productFlyout !== undefined && <ProductFlyout item={productFlyout} />}\n      </AnimatePresence>\n    </Root>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}