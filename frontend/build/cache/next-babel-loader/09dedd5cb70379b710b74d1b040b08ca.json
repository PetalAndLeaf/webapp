{"ast":null,"code":"var _jsxFileName = \"/Users/jianruan/Developer/webapp/frontend/components/Header.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { styles } from '../styles/theme';\nimport IconBtn from './Button/IconBtn';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport { useSelector } from 'react-redux';\nimport CartSidebar from './Cart/CartSidebar';\nimport CartBtn from './Cart/CartBtn';\nimport TextBtn from './Button/TextBtn';\nimport Dialog from '@material-ui/core/Dialog';\nimport Login from './Login';\nimport AccountBtn from './Account/AccountBtn';\nimport { AnimatePresence } from 'framer-motion'; // import { SignOutAction } from '../store/user/action'\n\nvar Container = styled.header.withConfig({\n  displayName: \"Header__Container\",\n  componentId: \"sc-135o2y4-0\"\n})([\"width:100%;height:96px;display:flex;align-items:center;background-color:rgba(256,256,256,1);padding-left:48px;padding-right:48px;justify-content:space-between;position:fixed;top:0;left:0;right:0;z-index:99;\"]);\nvar Logo = styled.img.withConfig({\n  displayName: \"Header__Logo\",\n  componentId: \"sc-135o2y4-1\"\n})([\"height:40px;width:auto;cursor:pointer;\"]);\nvar Controls = styled.div.withConfig({\n  displayName: \"Header__Controls\",\n  componentId: \"sc-135o2y4-2\"\n})([\"display:flex;align-items:center;> *:not(:last-child){margin-right:16px;}\"]);\nexport default function Header(_ref) {\n  var type = _ref.type;\n  // const dispatch = useDispatch()\n  var isSidebarOpen = useSelector(function (state) {\n    return state.cart.isSidebarOpen;\n  });\n  var isLoggedin = useSelector(function (state) {\n    return state.user.isLoggedin;\n  });\n\n  var _useState = useState(false),\n      isLoginOpen = _useState[0],\n      setIsLoginOpen = _useState[1];\n\n  useEffect(function () {\n    if (isLoggedin && isLoginOpen) {\n      setIsLoginOpen(false);\n    }\n  }, [isLoggedin]);\n  return __jsx(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, type !== 'home' && __jsx(Link, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, __jsx(Logo, {\n    src: \"/static/images/logo.svg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }))), __jsx(Controls, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, isLoggedin ? __jsx(AccountBtn, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }) : __jsx(TextBtn, {\n    onClick: function onClick() {\n      return setIsLoginOpen(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Sign up\"), __jsx(CartBtn, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), type === 'product' && __jsx(IconBtn, {\n    icon: \"x\",\n    onClick: function onClick() {\n      return Router.push('/');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  })), __jsx(AnimatePresence, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, isSidebarOpen && __jsx(CartSidebar, {\n    key: \"CartSidebar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  })), __jsx(Dialog, {\n    open: isLoginOpen,\n    key: \"loginDialog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, __jsx(Login, {\n    onSuccess: function onSuccess() {\n      return setIsLoginOpen(false);\n    },\n    initMode: \"signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), __jsx(IconBtn, {\n    icon: \"x\",\n    onClick: function onClick() {\n      return setIsLoginOpen(false);\n    },\n    style: {\n      position: 'absolute',\n      right: 8,\n      top: 8\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/Users/jianruan/Developer/webapp/frontend/components/Header.tsx"],"names":["React","useState","useEffect","styled","styles","IconBtn","Router","Link","useSelector","CartSidebar","CartBtn","TextBtn","Dialog","Login","AccountBtn","AnimatePresence","Container","header","Logo","img","Controls","div","Header","type","isSidebarOpen","state","cart","isLoggedin","user","isLoginOpen","setIsLoginOpen","push","position","right","top"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { styles } from '../styles/theme'\nimport IconBtn from './Button/IconBtn'\nimport Router from 'next/router'\nimport Link from 'next/link'\nimport { useSelector } from 'react-redux'\nimport CartSidebar from './Cart/CartSidebar'\nimport CartBtn from './Cart/CartBtn'\nimport TextBtn from './Button/TextBtn'\nimport Dialog from '@material-ui/core/Dialog'\nimport Login from './Login'\nimport AccountBtn from './Account/AccountBtn'\nimport { AnimatePresence } from 'framer-motion'\n// import { SignOutAction } from '../store/user/action'\n\nconst Container = styled.header`\n  width: 100%;\n  height: 96px;\n  /* border-bottom: 1px solid ${styles.palette.divider}; */\n  display: flex;\n  align-items: center;\n  background-color: rgba(256,256,256,1);\n  padding-left: 48px;\n  padding-right: 48px;\n  justify-content: space-between;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 99;\n`\nconst Logo = styled.img`\n  height: 40px;\n  width: auto;\n  cursor: pointer;\n`\n\nconst Controls = styled.div`\n  display: flex;\n  align-items: center;\n\n  > *:not(:last-child) {\n    margin-right: 16px;\n  }\n`\ninterface propsValue {\n  type: string\n}\nexport default function Header({ type }: propsValue) {\n  // const dispatch = useDispatch()\n  const isSidebarOpen = useSelector((state: any) => state.cart.isSidebarOpen)\n  const isLoggedin = useSelector((state: any) => state.user.isLoggedin)\n  const [isLoginOpen, setIsLoginOpen] = useState(false)\n  useEffect(() => {\n    if (isLoggedin && isLoginOpen) {\n      setIsLoginOpen(false)\n    }\n  }, [isLoggedin])\n\n  return (\n    <Container>\n      <div>\n        {type !== 'home' && (\n          <Link href=\"/\">\n            <Logo src=\"/static/images/logo.svg\" />\n          </Link>\n        )}\n      </div>\n      <Controls>\n        {isLoggedin ? (\n          <AccountBtn />\n        ) : (\n          <TextBtn onClick={() => setIsLoginOpen(true)}>Sign up</TextBtn>\n        )}\n\n        <CartBtn />\n        {type === 'product' && (\n          <IconBtn icon=\"x\" onClick={() => Router.push('/')} />\n        )}\n      </Controls>\n      <AnimatePresence>\n        {isSidebarOpen && <CartSidebar key=\"CartSidebar\" />}\n      </AnimatePresence>\n      <Dialog open={isLoginOpen} key=\"loginDialog\">\n        <Login onSuccess={() => setIsLoginOpen(false)} initMode=\"signup\" />\n        <IconBtn\n          icon=\"x\"\n          onClick={() => setIsLoginOpen(false)}\n          style={{ position: 'absolute', right: 8, top: 8 }}\n        />\n      </Dialog>\n    </Container>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}