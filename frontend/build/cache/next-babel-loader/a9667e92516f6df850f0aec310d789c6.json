{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport { LOGIN_SUCCESS, LOGIN_FAIL, LOGIN_REQUEST, SIGN_OUT, SIGN_UP_REQUEST, SIGN_UP_SUCCESS, SIGN_UP_FAIL, AUTH_STATUS_CHANGE } from './type';\nvar initialState = {\n  logging: false,\n  isLoggedin: false,\n  signingup: false,\n  currentUser: null,\n  err: null\n};\nexport function userReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case AUTH_STATUS_CHANGE:\n      return _objectSpread({}, state, {\n        currentUser: action.user,\n        isLoggedin: action.isLoggedin\n      });\n\n    /*****************   LOGIN    ***********************/\n\n    case LOGIN_REQUEST:\n      console.log('login request');\n      return _objectSpread({}, state, {\n        logging: true,\n        err: null\n      });\n\n    case LOGIN_SUCCESS:\n      console.log('login succuess');\n      return _objectSpread({}, state, {\n        logging: false\n      });\n\n    case LOGIN_FAIL:\n      console.log('login fail');\n      return _objectSpread({}, state, {\n        logging: false,\n        err: action.err\n      });\n\n    /*****************   SIGN UP    ***********************/\n\n    case SIGN_UP_REQUEST:\n      console.log('request create new user');\n      return _objectSpread({}, state, {\n        signingup: true,\n        err: null\n      });\n\n    case SIGN_UP_SUCCESS:\n      console.log('user created');\n      return _objectSpread({}, state, {\n        signingup: false\n      });\n\n    case SIGN_UP_FAIL:\n      console.log('creat user fail');\n      return _objectSpread({}, state, {\n        signingup: false,\n        err: action.err\n      });\n\n    /*****************   SIGN OUT   ***********************/\n\n    case SIGN_OUT:\n      console.info('signed out');\n      return _objectSpread({}, state, {\n        err: null\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/jianruan/Developer/webapp/frontend/store/user/reducer.tsx"],"names":["LOGIN_SUCCESS","LOGIN_FAIL","LOGIN_REQUEST","SIGN_OUT","SIGN_UP_REQUEST","SIGN_UP_SUCCESS","SIGN_UP_FAIL","AUTH_STATUS_CHANGE","initialState","logging","isLoggedin","signingup","currentUser","err","userReducer","state","action","type","user","console","log","info"],"mappings":";AAAA,SAGEA,aAHF,EAIEC,UAJF,EAKEC,aALF,EAMEC,QANF,EAOEC,eAPF,EAQEC,eARF,EASEC,YATF,EAUEC,kBAVF,QAWO,QAXP;AAaA,IAAMC,YAAuB,GAAG;AAC9BC,EAAAA,OAAO,EAAE,KADqB;AAE9BC,EAAAA,UAAU,EAAE,KAFkB;AAG9BC,EAAAA,SAAS,EAAE,KAHmB;AAI9BC,EAAAA,WAAW,EAAE,IAJiB;AAK9BC,EAAAA,GAAG,EAAE;AALyB,CAAhC;AAQA,OAAO,SAASC,WAAT,GAGM;AAAA,MAFXC,KAEW,uEAFHP,YAEG;AAAA,MADXQ,MACW;;AACX,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKV,kBAAL;AACE,+BACKQ,KADL;AAEEH,QAAAA,WAAW,EAAEI,MAAM,CAACE,IAFtB;AAGER,QAAAA,UAAU,EAAEM,MAAM,CAACN;AAHrB;;AAKF;;AACA,SAAKR,aAAL;AACEiB,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,+BACKL,KADL;AAEEN,QAAAA,OAAO,EAAE,IAFX;AAGEI,QAAAA,GAAG,EAAE;AAHP;;AAKF,SAAKb,aAAL;AACEmB,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,+BACKL,KADL;AAEEN,QAAAA,OAAO,EAAE;AAFX;;AAIF,SAAKR,UAAL;AACEkB,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,+BACKL,KADL;AAEEN,QAAAA,OAAO,EAAE,KAFX;AAGEI,QAAAA,GAAG,EAAEG,MAAM,CAACH;AAHd;;AAKF;;AACA,SAAKT,eAAL;AACEe,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACA,+BACKL,KADL;AAEEJ,QAAAA,SAAS,EAAE,IAFb;AAGEE,QAAAA,GAAG,EAAE;AAHP;;AAKF,SAAKR,eAAL;AACEc,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,+BACKL,KADL;AAEEJ,QAAAA,SAAS,EAAE;AAFb;;AAIF,SAAKL,YAAL;AACEa,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,+BACKL,KADL;AAEEJ,QAAAA,SAAS,EAAE,KAFb;AAGEE,QAAAA,GAAG,EAAEG,MAAM,CAACH;AAHd;;AAKF;;AACA,SAAKV,QAAL;AACEgB,MAAAA,OAAO,CAACE,IAAR,CAAa,YAAb;AACA,+BACKN,KADL;AAEEF,QAAAA,GAAG,EAAE;AAFP;;AAIF;AACE,aAAOE,KAAP;AAzDJ;AA2DD","sourcesContent":["import {\n  userState,\n  userActionTypes,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOGIN_REQUEST,\n  SIGN_OUT,\n  SIGN_UP_REQUEST,\n  SIGN_UP_SUCCESS,\n  SIGN_UP_FAIL,\n  AUTH_STATUS_CHANGE\n} from './type'\n\nconst initialState: userState = {\n  logging: false,\n  isLoggedin: false,\n  signingup: false,\n  currentUser: null,\n  err: null\n}\n\nexport function userReducer(\n  state = initialState,\n  action: userActionTypes\n): userState {\n  switch (action.type) {\n    case AUTH_STATUS_CHANGE:\n      return {\n        ...state,\n        currentUser: action.user,\n        isLoggedin: action.isLoggedin\n      }\n    /*****************   LOGIN    ***********************/\n    case LOGIN_REQUEST:\n      console.log('login request')\n      return {\n        ...state,\n        logging: true,\n        err: null\n      }\n    case LOGIN_SUCCESS:\n      console.log('login succuess')\n      return {\n        ...state,\n        logging: false\n      }\n    case LOGIN_FAIL:\n      console.log('login fail')\n      return {\n        ...state,\n        logging: false,\n        err: action.err\n      }\n    /*****************   SIGN UP    ***********************/\n    case SIGN_UP_REQUEST:\n      console.log('request create new user')\n      return {\n        ...state,\n        signingup: true,\n        err: null\n      }\n    case SIGN_UP_SUCCESS:\n      console.log('user created')\n      return {\n        ...state,\n        signingup: false\n      }\n    case SIGN_UP_FAIL:\n      console.log('creat user fail')\n      return {\n        ...state,\n        signingup: false,\n        err: action.err\n      }\n    /*****************   SIGN OUT   ***********************/\n    case SIGN_OUT:\n      console.info('signed out')\n      return {\n        ...state,\n        err: null\n      }\n    default:\n      return state\n  }\n}\n"]},"metadata":{},"sourceType":"module"}