{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/jianruan/Developer/webapp/frontend/pages/index.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport SplitLayout from '../layout/SplitLayout';\nimport ProuductCard from '../components/Product/ProductCard';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { useSelector } from 'react-redux';\nimport { getProductList } from '../store/content/action';\nimport { isEmpty } from 'lodash';\nvar ProductList = styled(motion.div).withConfig({\n  displayName: \"pages__ProductList\",\n  componentId: \"lrbmwi-0\"\n})([\"max-width:880px;margin-left:auto;margin-right:auto;padding:32px;padding-top:96px;flex:1;\"]);\nvar listVariants = {\n  visible: {\n    opacity: 1,\n    transition: {\n      when: 'beforeChildren',\n      staggerChildren: 0.3\n    }\n  },\n  hidden: {\n    opacity: 0,\n    transition: {\n      when: 'afterChildren'\n    }\n  }\n};\n\nfunction Index() {\n  var productList = useSelector(function (state) {\n    return state.content.productList;\n  });\n  return __jsx(SplitLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, __jsx(ProductList, {\n    variants: listVariants,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, productList.map(function (product, i) {\n    return __jsx(ProuductCard, {\n      key: product + i,\n      data: product,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    });\n  })));\n}\n\nIndex.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(ctx) {\n    var store, isServer, currentState;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            store = ctx.store, isServer = ctx.isServer;\n            currentState = store.getState();\n\n            if (!isEmpty(currentState.content.productList)) {\n              _context.next = 5;\n              break;\n            }\n\n            _context.next = 5;\n            return store.dispatch(getProductList());\n\n          case 5:\n            return _context.abrupt(\"return\", {\n              isServer: isServer\n            });\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default Index;","map":{"version":3,"sources":["/Users/jianruan/Developer/webapp/frontend/pages/index.tsx"],"names":["React","SplitLayout","ProuductCard","styled","motion","useSelector","getProductList","isEmpty","ProductList","div","listVariants","visible","opacity","transition","when","staggerChildren","hidden","Index","productList","state","content","map","product","i","getInitialProps","ctx","store","isServer","currentState","getState","dispatch"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,OAAOC,YAAP,MAAyB,mCAAzB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,MAAT,QAAiC,eAAjC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,cAAT,QAA+B,yBAA/B;AACA,SAASC,OAAT,QAAwB,QAAxB;AAEA,IAAMC,WAAW,GAAGL,MAAM,CAACC,MAAM,CAACK,GAAR,CAAT;AAAA;AAAA;AAAA,gGAAjB;AAQA,IAAMC,YAAsB,GAAG;AAC7BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,OAAO,EAAE,CADF;AAEPC,IAAAA,UAAU,EAAE;AACVC,MAAAA,IAAI,EAAE,gBADI;AAEVC,MAAAA,eAAe,EAAE;AAFP;AAFL,GADoB;AAQ7BC,EAAAA,MAAM,EAAE;AACNJ,IAAAA,OAAO,EAAE,CADH;AAENC,IAAAA,UAAU,EAAE;AACVC,MAAAA,IAAI,EAAE;AADI;AAFN;AARqB,CAA/B;;AAgBA,SAASG,KAAT,GAAiB;AACf,MAAMC,WAAW,GAAGb,WAAW,CAAC,UAACc,KAAD;AAAA,WAAgBA,KAAK,CAACC,OAAN,CAAcF,WAA9B;AAAA,GAAD,CAA/B;AACA,SACE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AAAa,IAAA,QAAQ,EAAER,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGQ,WAAW,CAACG,GAAZ,CAAgB,UAACC,OAAD,EAAeC,CAAf,EAA6B;AAC5C,WAAO,MAAC,YAAD;AAAc,MAAA,GAAG,EAAED,OAAO,GAAGC,CAA7B;AAAgC,MAAA,IAAI,EAAED,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFA,CADH,CADF,CADF;AASD;;AAEDL,KAAK,CAACO,eAAN;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAwB,iBAAeC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACdC,YAAAA,KADc,GACMD,GADN,CACdC,KADc,EACPC,QADO,GACMF,GADN,CACPE,QADO;AAEhBC,YAAAA,YAFgB,GAEDF,KAAK,CAACG,QAAN,EAFC;;AAAA,iBAGlBtB,OAAO,CAACqB,YAAY,CAACR,OAAb,CAAqBF,WAAtB,CAHW;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIdQ,KAAK,CAACI,QAAN,CAAexB,cAAc,EAA7B,CAJc;;AAAA;AAAA,6CAOf;AACLqB,cAAAA,QAAQ,EAARA;AADK,aAPe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAAA;AAAA;AAAA;AAAA;;AAYA,eAAeV,KAAf","sourcesContent":["import React from 'react'\nimport SplitLayout from '../layout/SplitLayout'\nimport ProuductCard from '../components/Product/ProductCard'\nimport styled from 'styled-components'\nimport { motion, Variants } from 'framer-motion'\nimport { useSelector } from 'react-redux'\nimport { getProductList } from '../store/content/action'\nimport { isEmpty } from 'lodash'\n\nconst ProductList = styled(motion.div)`\n  max-width: 880px;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 32px;\n  padding-top: 96px;\n  flex: 1;\n`\nconst listVariants: Variants = {\n  visible: {\n    opacity: 1,\n    transition: {\n      when: 'beforeChildren',\n      staggerChildren: 0.3\n    }\n  },\n  hidden: {\n    opacity: 0,\n    transition: {\n      when: 'afterChildren'\n    }\n  }\n}\n\nfunction Index() {\n  const productList = useSelector((state: any) => state.content.productList)\n  return (\n    <SplitLayout>\n      <ProductList variants={listVariants}>\n        {productList.map((product: any, i: number) => {\n          return <ProuductCard key={product + i} data={product} />\n        })}\n      </ProductList>\n    </SplitLayout>\n  )\n}\n\nIndex.getInitialProps = async function(ctx: any) {\n  const { store, isServer } = ctx\n  const currentState = store.getState()\n  if (isEmpty(currentState.content.productList)) {\n    await store.dispatch(getProductList())\n  }\n\n  return {\n    isServer\n  }\n}\n\nexport default Index\n"]},"metadata":{},"sourceType":"module"}