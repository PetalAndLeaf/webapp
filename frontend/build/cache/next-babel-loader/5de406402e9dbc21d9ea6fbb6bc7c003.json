{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/jianruan/Developer/webapp/frontend/components/Product/AddToBagBtn.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport styled from 'styled-components';\nimport { styles } from '../../styles/theme';\nimport { Typography } from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { openFlyout, closeFlyout, clearFlyoutTimeout, setFlyoutTimeout, increaseQuantity } from '../../store/cart/action';\nconst Root = styled.div.withConfig({\n  displayName: \"AddToBagBtn__Root\",\n  componentId: \"si31ez-0\"\n})([\"display:inline-block;height:36px;width:auto;min-width:160px;background:\", \";cursor:pointer;border-radius:18px;border:none;outline:none;text-align:center;line-height:36px;transition:all 0.2s ease-in-out;color:\", \";&:hover .btnText{display:none;}&:hover .optionsWrap{display:flex;}\"], styles.palette.primary.main, styles.palette.text.primary);\nconst OptionsWrap = styled.div.withConfig({\n  displayName: \"AddToBagBtn__OptionsWrap\",\n  componentId: \"si31ez-1\"\n})([\"display:none;margin-top:6px;width:100%;justify-content:space-around;transition:all 0.3s ease-in-out;\"]);\nconst Option = styled.button.withConfig({\n  displayName: \"AddToBagBtn__Option\",\n  componentId: \"si31ez-2\"\n})([\"height:24px;width:64px;background:transparent;cursor:pointer;border-radius:12px;border:none;outline:none;text-align:center;line-height:24px;transition:all 0.2s ease-in-out;&:hover{background:#fff;}\"]); // interface propsValue {\n//   onClick?: () => {}\n//   btype?: any\n//   children: any\n//   moreProps?: any\n// }\n\nconst sizes = [{\n  size: '30g',\n  sku: 'rc30',\n  price: 15,\n  name: 'Rose Cake'\n}, {\n  size: '50g',\n  sku: 'rc50',\n  price: 18,\n  name: 'Rose Cake'\n}];\nexport default function AddToBagBtn() {\n  const dispatch = useDispatch();\n  const flyoutTimeout = useSelector(state => state.cart.flyoutTimeout);\n\n  const handleAddItem = sku => {\n    if (flyoutTimeout !== undefined) {\n      dispatch(clearFlyoutTimeout());\n    }\n\n    dispatch(increaseQuantity(sku));\n    const item = sizes.filter(s => {\n      return s.sku === sku;\n    })[0];\n    dispatch(openFlyout(_objectSpread({}, item, {\n      size: `${item.size}, 6 counts`,\n      quantity: 1\n    })));\n    const timeout = setTimeout(() => dispatch(closeFlyout()), 2000);\n    dispatch(setFlyoutTimeout(timeout));\n  };\n\n  return __jsx(Root, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, __jsx(OptionsWrap, {\n    className: \"optionsWrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, sizes.map((s, i) => {\n    return __jsx(Option, {\n      key: s.sku + i,\n      onClick: () => handleAddItem(s.sku),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, __jsx(Typography, {\n      variant: \"button\",\n      style: {\n        textTransform: 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, s.size));\n  })), __jsx(Typography, {\n    className: \"btnText\",\n    variant: \"button\",\n    style: {\n      textTransform: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"Add to bag\"));\n}","map":{"version":3,"sources":["/Users/jianruan/Developer/webapp/frontend/components/Product/AddToBagBtn.tsx"],"names":["React","styled","styles","Typography","useDispatch","useSelector","openFlyout","closeFlyout","clearFlyoutTimeout","setFlyoutTimeout","increaseQuantity","Root","div","palette","primary","main","text","OptionsWrap","Option","button","sizes","size","sku","price","name","AddToBagBtn","dispatch","flyoutTimeout","state","cart","handleAddItem","undefined","item","filter","s","quantity","timeout","setTimeout","map","i","textTransform"],"mappings":"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","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport { styles } from '../../styles/theme'\nimport { Typography } from '@material-ui/core'\nimport { useDispatch, useSelector } from 'react-redux'\nimport {\n  openFlyout,\n  closeFlyout,\n  clearFlyoutTimeout,\n  setFlyoutTimeout,\n  increaseQuantity\n} from '../../store/cart/action'\n\nconst Root = styled.div`\n  display: inline-block;\n  height: 36px;\n  width: auto;\n  min-width: 160px;\n  background: ${styles.palette.primary.main};\n  cursor: pointer;\n  border-radius: 18px;\n  border: none;\n  outline: none;\n  text-align: center;\n  line-height: 36px;\n  transition: all 0.2s ease-in-out;\n  /* padding-left: 24px;\n  padding-right: 24px; */\n  color: ${styles.palette.text.primary};\n  &:hover .btnText {\n    display: none;\n  }\n  &:hover .optionsWrap {\n    display: flex;\n  }\n`\nconst OptionsWrap = styled.div`\n  display: none;\n  margin-top: 6px;\n  width: 100%;\n  justify-content: space-around;\n  transition: all 0.3s ease-in-out;\n`\nconst Option = styled.button`\n  height: 24px;\n  width: 64px;\n  background: transparent;\n  cursor: pointer;\n  border-radius: 12px;\n  border: none;\n  outline: none;\n  text-align: center;\n  line-height: 24px;\n  transition: all 0.2s ease-in-out;\n\n  &:hover {\n    background: #fff;\n  }\n`\n// interface propsValue {\n//   onClick?: () => {}\n//   btype?: any\n//   children: any\n//   moreProps?: any\n// }\n\nconst sizes = [\n  {\n    size: '30g',\n    sku: 'rc30',\n    price: 15,\n    name: 'Rose Cake'\n  },\n  {\n    size: '50g',\n    sku: 'rc50',\n    price: 18,\n    name: 'Rose Cake'\n  }\n]\n\nexport default function AddToBagBtn() {\n  const dispatch = useDispatch()\n  const flyoutTimeout = useSelector((state: any) => state.cart.flyoutTimeout)\n  const handleAddItem = (sku: string) => {\n    if (flyoutTimeout !== undefined) {\n      dispatch(clearFlyoutTimeout())\n    }\n    dispatch(increaseQuantity(sku))\n    const item = sizes.filter((s: any) => {\n      return s.sku === sku\n    })[0]\n\n    dispatch(\n      openFlyout({\n        ...item,\n        size: `${item.size}, 6 counts`,\n        quantity: 1\n      })\n    )\n    const timeout = setTimeout(() => dispatch(closeFlyout()), 2000)\n    dispatch(setFlyoutTimeout(timeout))\n  }\n  return (\n    <Root>\n      <OptionsWrap className='optionsWrap'>\n        {sizes.map((s, i) => {\n          return (\n            <Option key={s.sku + i} onClick={() => handleAddItem(s.sku)}>\n              <Typography\n                variant='button'\n                style={{\n                  textTransform: 'none'\n                }}\n              >\n                {s.size}\n              </Typography>\n            </Option>\n          )\n        })}\n      </OptionsWrap>\n      <Typography\n        className='btnText'\n        variant='button'\n        style={{\n          textTransform: 'none'\n        }}\n      >\n        Add to bag\n      </Typography>\n    </Root>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}