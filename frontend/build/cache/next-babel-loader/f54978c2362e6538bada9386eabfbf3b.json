{"ast":null,"code":"var _jsxFileName = \"/Users/jianruan/Developer/webapp/frontend/pages/index.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport SplitLayout from '../layout/SplitLayout';\nimport ProuductCard from '../components/Product/ProductCard';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { useSelector } from 'react-redux';\nimport { getProductList } from '../store/content/action';\nimport { isEmpty } from 'lodash';\nconst ProductList = styled(motion.div).withConfig({\n  displayName: \"pages__ProductList\",\n  componentId: \"lrbmwi-0\"\n})([\"max-width:880px;margin-left:auto;margin-right:auto;padding:32px;padding-top:96px;flex:1;\"]);\nconst listVariants = {\n  visible: {\n    opacity: 1,\n    transition: {\n      when: 'beforeChildren',\n      staggerChildren: 0.3\n    }\n  },\n  hidden: {\n    opacity: 0,\n    transition: {\n      when: 'afterChildren'\n    }\n  }\n};\n\nfunction Index() {\n  const productList = useSelector(state => state.content.productList);\n  return __jsx(SplitLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, __jsx(ProductList, {\n    variants: listVariants,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, productList.map((product, i) => {\n    return __jsx(ProuductCard, {\n      key: product + i,\n      data: product,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    });\n  })));\n}\n\nIndex.getInitialProps = async function (ctx) {\n  const {\n    store,\n    isServer\n  } = ctx;\n  const currentState = store.getState();\n\n  if (isEmpty(currentState.content.productList)) {\n    await store.dispatch(getProductList());\n  }\n\n  return {\n    isServer\n  };\n};\n\nexport default Index;","map":{"version":3,"sources":["/Users/jianruan/Developer/webapp/frontend/pages/index.tsx"],"names":["React","SplitLayout","ProuductCard","styled","motion","useSelector","getProductList","isEmpty","ProductList","div","listVariants","visible","opacity","transition","when","staggerChildren","hidden","Index","productList","state","content","map","product","i","getInitialProps","ctx","store","isServer","currentState","getState","dispatch"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,OAAOC,YAAP,MAAyB,mCAAzB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,MAAT,QAAiC,eAAjC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,cAAT,QAA+B,yBAA/B;AACA,SAASC,OAAT,QAAwB,QAAxB;AAEA,MAAMC,WAAW,GAAGL,MAAM,CAACC,MAAM,CAACK,GAAR,CAAT;AAAA;AAAA;AAAA,gGAAjB;AAQA,MAAMC,YAAsB,GAAG;AAC7BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,OAAO,EAAE,CADF;AAEPC,IAAAA,UAAU,EAAE;AACVC,MAAAA,IAAI,EAAE,gBADI;AAEVC,MAAAA,eAAe,EAAE;AAFP;AAFL,GADoB;AAQ7BC,EAAAA,MAAM,EAAE;AACNJ,IAAAA,OAAO,EAAE,CADH;AAENC,IAAAA,UAAU,EAAE;AACVC,MAAAA,IAAI,EAAE;AADI;AAFN;AARqB,CAA/B;;AAgBA,SAASG,KAAT,GAAiB;AACf,QAAMC,WAAW,GAAGb,WAAW,CAAEc,KAAD,IAAgBA,KAAK,CAACC,OAAN,CAAcF,WAA/B,CAA/B;AACA,SACE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AAAa,IAAA,QAAQ,EAAER,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGQ,WAAW,CAACG,GAAZ,CAAgB,CAACC,OAAD,EAAeC,CAAf,KAA6B;AAC5C,WAAO,MAAC,YAAD;AAAc,MAAA,GAAG,EAAED,OAAO,GAAGC,CAA7B;AAAgC,MAAA,IAAI,EAAED,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFA,CADH,CADF,CADF;AASD;;AAEDL,KAAK,CAACO,eAAN,GAAwB,gBAAeC,GAAf,EAAyB;AAC/C,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBF,GAA5B;AACA,QAAMG,YAAY,GAAGF,KAAK,CAACG,QAAN,EAArB;;AACA,MAAItB,OAAO,CAACqB,YAAY,CAACR,OAAb,CAAqBF,WAAtB,CAAX,EAA+C;AAC7C,UAAMQ,KAAK,CAACI,QAAN,CAAexB,cAAc,EAA7B,CAAN;AACD;;AAED,SAAO;AACLqB,IAAAA;AADK,GAAP;AAGD,CAVD;;AAYA,eAAeV,KAAf","sourcesContent":["import React from 'react'\nimport SplitLayout from '../layout/SplitLayout'\nimport ProuductCard from '../components/Product/ProductCard'\nimport styled from 'styled-components'\nimport { motion, Variants } from 'framer-motion'\nimport { useSelector } from 'react-redux'\nimport { getProductList } from '../store/content/action'\nimport { isEmpty } from 'lodash'\n\nconst ProductList = styled(motion.div)`\n  max-width: 880px;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 32px;\n  padding-top: 96px;\n  flex: 1;\n`\nconst listVariants: Variants = {\n  visible: {\n    opacity: 1,\n    transition: {\n      when: 'beforeChildren',\n      staggerChildren: 0.3\n    }\n  },\n  hidden: {\n    opacity: 0,\n    transition: {\n      when: 'afterChildren'\n    }\n  }\n}\n\nfunction Index() {\n  const productList = useSelector((state: any) => state.content.productList)\n  return (\n    <SplitLayout>\n      <ProductList variants={listVariants}>\n        {productList.map((product: any, i: number) => {\n          return <ProuductCard key={product + i} data={product} />\n        })}\n      </ProductList>\n    </SplitLayout>\n  )\n}\n\nIndex.getInitialProps = async function(ctx: any) {\n  const { store, isServer } = ctx\n  const currentState = store.getState()\n  if (isEmpty(currentState.content.productList)) {\n    await store.dispatch(getProductList())\n  }\n\n  return {\n    isServer\n  }\n}\n\nexport default Index\n"]},"metadata":{},"sourceType":"module"}